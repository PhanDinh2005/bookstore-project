<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thanh Toán - BookStore</title>
    <link rel="stylesheet" href="../styles/main.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: #f0f2f5">
    <header class="header">
      <div class="container header-container">
        <a href="../index.html" class="logo">
          <i class="fas fa-book-open"></i> BOOKSTORE
        </a>
        <div
          style="
            flex: 1;
            text-align: right;
            font-size: 18px;
            color: var(--primary-color);
            font-weight: bold;
            border-left: 2px solid #ddd;
            padding-left: 20px;
            margin-left: 20px;
          "
        >
          THANH TOÁN
        </div>
      </div>
    </header>

    <main class="container cart-page">
      <form id="checkout-form" onsubmit="handleCheckout(event)">
        <div class="cart-layout">
          <div class="cart-items-col">
            <h3
              style="
                margin-bottom: 20px;
                color: #333;
                border-bottom: 1px solid #eee;
                padding-bottom: 10px;
              "
            >
              <i class="fas fa-map-marker-alt"></i> Thông tin giao hàng
            </h3>

            <div class="form-group">
              <label>Người nhận</label>
              <input
                type="text"
                id="customer-name"
                class="form-control"
                required
                placeholder="Họ và tên người nhận"
              />
            </div>

            <div class="form-group">
              <label>Số điện thoại (*)</label>
              <input
                type="tel"
                id="phone"
                class="form-control"
                required
                placeholder="Ví dụ: 0912345678"
              />
            </div>

            <div class="form-group">
              <label>Địa chỉ nhận hàng (*)</label>
              <input
                type="text"
                id="address"
                class="form-control"
                required
                placeholder="Số nhà, đường, phường/xã, quận/huyện..."
              />
            </div>

            <div class="form-group">
              <label>Ghi chú đơn hàng (Tùy chọn)</label>
              <textarea
                id="note"
                class="form-control"
                rows="2"
                placeholder="Ví dụ: Giao giờ hành chính, gọi trước khi giao..."
              ></textarea>
            </div>

            <h3
              style="
                margin: 30px 0 15px 0;
                color: #333;
                border-bottom: 1px solid #eee;
                padding-bottom: 10px;
              "
            >
              <i class="fas fa-wallet"></i> Phương thức thanh toán
            </h3>

            <div class="payment-methods">
              <label class="payment-option">
                <input type="radio" name="payment" value="cod" checked />
                <div class="payment-content">
                  <img
                    src="https://cdn-icons-png.flaticon.com/512/2331/2331941.png"
                    alt="COD"
                  />
                  <span>Thanh toán khi nhận hàng (COD)</span>
                </div>
              </label>

              <label class="payment-option">
                <input type="radio" name="payment" value="banking" />
                <div class="payment-content">
                  <img
                    src="https://cdn-icons-png.flaticon.com/512/2175/2175515.png"
                    alt="Banking"
                  />
                  <span>Chuyển khoản ngân hàng (QR Code)</span>
                </div>
              </label>
            </div>
          </div>

          <div class="cart-summary-col">
            <h3 style="margin-bottom: 15px">Đơn hàng của bạn</h3>

            <div
              id="order-items-list"
              style="
                max-height: 250px;
                overflow-y: auto;
                margin-bottom: 15px;
                padding-right: 5px;
              "
            >
              <p>Đang tải...</p>
            </div>

            <div class="summary-row">
              <span>Tạm tính:</span>
              <span id="sub-total">0 ₫</span>
            </div>
            <div class="summary-row">
              <span>Phí vận chuyển:</span>
              <span id="shipping-fee">30.000 ₫</span>
            </div>

            <div class="summary-total">
              <span>Tổng thanh toán:</span>
              <span id="final-total" class="total-price-text">0 ₫</span>
            </div>

            <button type="submit" class="btn-checkout">ĐẶT HÀNG</button>

            <a
              href="cart.html"
              style="
                display: block;
                text-align: center;
                margin-top: 15px;
                color: #666;
                font-size: 13px;
              "
            >
              ← Quay lại giỏ hàng
            </a>
          </div>
        </div>
      </form>
    </main>

    <script src="../js/api.js"></script>
    <script src="../js/checkout.js"></script>
  </body>
</html>
